/**
 * @preserve RTA Framework v.0.1.0
 * @Copyright Realtyna Inc. Co 2015
 * @Author Steve M. | UI Department
 */
var _j=wplj=jQuery.noConflict();var _rta_app_dirs={js:"js/",libs:"libs/"},_rta_baseUrl=wpl_baseUrl,_rta_urlAssets="wp-content/plugins/"+wpl_baseName+"/assets/",_rta_urlJs=_rta_baseUrl+_rta_urlAssets+_rta_app_dirs.js,_rta_urlJsLibs=_rta_baseUrl+_rta_urlAssets+_rta_app_dirs.js+(_rta_app_dirs.js==_rta_app_dirs.libs?"":_rta_app_dirs.libs),_rta_frontViews={},_rta_backViews={};function escapeRegExp(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.toCamel=function(){return this.replace(/(\-[a-z])/g,function($1){return $1.toUpperCase().replace("-","")})};String.prototype.toDash=function(){return this.replace(/([A-Z])/g,function($1){return"-"+$1.toLowerCase()})};String.prototype.toUnderscore=function(){return this.replace(/([A-Z])/g,function($1){return"_"+$1.toLowerCase()})};String.prototype.replaceAll=function(find,replace){return this.replace(new RegExp(escapeRegExp(find),"g"),replace)};Date.prototype.today=function(){return(this.getDate()<10?"0":"")+this.getDate()+"/"+(this.getMonth()+1<10?"0":"")+(this.getMonth()+1)+"/"+this.getFullYear()};Date.prototype.timeNow=function(){return(this.getHours()<10?"0":"")+this.getHours()+":"+(this.getMinutes()<10?"0":"")+this.getMinutes()+":"+(this.getSeconds()<10?"0":"")+this.getSeconds()};function isWPL(){_j("html").attr("data-wpl-plugin","")}(function(window,document,$,undefined){window.opt2JSON=function(str){var strArray=str.split("|");var myObject={};for(var i=0;i<strArray.length;++i){var _sp=strArray[i].split(":");myObject[_sp[0]]=$.isNumeric(_sp[1])?parseInt(_sp[1]):_sp[1]}return myObject};function wpl_fancybox_afterShow_callback(){}$.fn.inlineStyle=function(prop){var styles=this.attr("style"),value;styles&&styles.split(";").forEach(function(e){var style=e.split(":");if($.trim(style[0])===prop){value=style[1]}});return value};$.fn.sortElements=function(){var sort=[].sort;return function(comparator,getSortable){getSortable=getSortable||function(){return this};var placements=this.map(function(){var sortElement=getSortable.call(this),parentNode=sortElement.parentNode,nextSibling=parentNode.insertBefore(document.createTextNode(""),sortElement.nextSibling);return function(){if(parentNode===this){throw new Error("You can't sort elements if any one is a descendant of another.")}parentNode.insertBefore(this,nextSibling);parentNode.removeChild(nextSibling)}});return sort.call(this,comparator).each(function(i){placements[i].call(getSortable.call(this))})}}();$.fn.cleanWhitespace=function(){textNodes=this.contents().filter(function(){return this.nodeType==3&&!/\S/.test(this.nodeValue)}).remove();return this};$.fn.getDocHeight=function(){var D=document;return Math.max(D.body.scrollHeight,D.documentElement.scrollHeight,D.body.offsetHeight,D.documentElement.offsetHeight,D.body.clientHeight,D.documentElement.clientHeight)};$.fn.isBetween=function(prev,next){if(this.prevAll(prev).length===0)return false;if(this.nextAll(next).length===0)return false;return true};$.fn.equalHeight=function(callBack,removeHeightAttr){var currentTallest=0,currentRowStart=0,rowDivs=new Array,$el,topPosition=0,elCount=$(this).length,elIndex=0,removeHeightAttr=removeHeightAttr||false;if(removeHeightAttr)$(this).css("height","");$(this).each(function(){$el=$(this);topPostion=$el.position().top;if(currentRowStart!=topPostion){for(currentDiv=0;currentDiv<rowDivs.length;currentDiv++){rowDivs[currentDiv].height(currentTallest)}rowDivs.length=0;currentRowStart=topPostion;currentTallest=$el.height();rowDivs.push($el)}else{rowDivs.push($el);currentTallest=Math.max(currentTallest,$el.height())}for(currentDiv=0;currentDiv<rowDivs.length;currentDiv++){rowDivs[currentDiv].height(currentTallest)}elIndex++;if(elIndex===elCount){if(typeof callBack!==undefined&&$.isFunction(callBack)){callBack.call()}}})};$.fn.wplSortable=function(options,dataString,postUrl,messages,update){var _options=options||{},_dataString=dataString||"",_updateFunc=$.noop();if(!$.isFunction(update))_updateFunc=function(e,ui){var stringDiv="";wplj(this).children("tr").each(function(i){var tr=wplj(this);var tr_id=tr.attr("id").split("_");if(i!=0){stringDiv+=","}stringDiv+=tr_id[2]});wplj.ajax({type:"POST",url:postUrl,data:_dataString+stringDiv,success:function(){},error:function(){wpl_show_messages(messages.error,".wpl_data_structure_list .wpl_show_message","wpl_red_msg")}})};_options.update=_updateFunc;_options=$.extend(_options,rta.config.sortable);$(this).sortable(_options)};rta={version:"0.3.5",name:"RTA",internal:{},registers:{},config:{},util:{},views:{},models:{},runTime:{},template:{}};rta.config={debug:false,backend:{pageLeftTabs:".side-tabs-wp",pageLeftTabsTrigger:"click"},JSes:{chosen:"chosen/public/chosen.jquery.min",jqueryBridget:"jquery-bridget/jquery.bridget",mCustomScrollbar:"malihu-custom-scrollbar-plugin-bower/jquery.mCustomScrollbar.concat.min",transit:"transit/jquery.transit.min",hoverintent:"hoverintent/jquery.hoverIntent",fileUpload:"blueimp-file-upload/js/jquery.fileupload",fileUploadProc:"blueimp-file-upload/js/jquery.fileupload-process",fileUploadValid:"blueimp-file-upload/js/jquery.fileupload-validate",ajaxFileUpload:"ajaxfileupload.min"},defaultSelectors:{checkboxWrap:".access-checkbox-wp",slideContainerPrefix:"#wpl_slide_container_id",slideLabelPrefix:"#wpl_slide_label_id",fancyWrapper:".fancybox-wrap",fancyInner:".fancybox-inner",fancyContent:".fanc-content"},templates:{delayStart:false,delayTime:500,leftHolder:"${",rightHolder:"}",tag:"div",idAttr:"data-id",fileName:"js_inline.html"},chosen:{disable_search_threshold:10},sortable:{handle:".move-element",cursor:"move"},fancySpecificOptions:{}};rta.registers=function(){var _registers=[];return{get:function(name,isLocal){var isLocal=isLocal||false;if(rta.util.getCookie(name)&&!isLocal)return rta.util.getCookie(name);if(_registers.hasOwnProperty(name))return _registers[name];return false},set:function(name,value,permanent){var _value=value||"",_permanent=permanent||false;if(!name)return false;_registers[name]=_value;if(_permanent)rta.util.setCookie(name,_value);return _value}}}();rta.util=function(){var _pageHashes=[],_queryStrings=[];return{has_fancy_box:null,messageType:{error:"error",warning:"warning",info:"info"},showMultiFancy:function(){$(document).on("click",".multi-fancybox",function(e){e.preventDefault();var __self=$(this),__currentFancyID=__self.attr("data-fancy-id");__currentOption=rta.config.fancybox;if(rta.config.fancySpecificOptions.hasOwnProperty(__currentFancyID))__currentOption.afterShowMore=rta.config.fancySpecificOptions[__currentFancyID];$.fancybox.open(__self,__currentOption)})},showMessage:function(message,type,title,hasClose){var __type=type||this.messageType.error,__hasClose=hasClose||true,__title=title||__type.toCamel();if(!message)return false;var message=rta.template.bind({type:__type,title:__title,message:message},"notificationTemplate")},getBrowserSize:function(){var __size={};if(window.innerHeight){__size.height=window.innerHeight;__size.width=window.innerWidth}else if(document.all){__size.height=document.body.clientHeight;__size.width=document.body.clientWidth}return __size},log:function(msgs){var _messages=arguments;if(rta.config.debug){try{var _date=new Date;for(var _i=0;_i<_messages.length;++_i){var _str_message=rta.name+" - v."+rta.version+" ["+_date.today()+" - "+_date.timeNow()+"] >> "+_messages[_i];console.log(_str_message)}return true}catch(e){return false}}return true},getCookie:function(name){var start=document.cookie.indexOf(name+"=");var len=start+name.length+1;if(!start&&name!=document.cookie.substring(0,name.length)){return null}if(start==-1)return null;var end=document.cookie.indexOf(";",len);if(end==-1)end=document.cookie.length;return unescape(document.cookie.substring(len,end))},setCookie:function(name,value,expires,path,domain,secure){var today=new Date;today.setTime(today.getTime());if(expires){expires=expires*1e3*60*60*24}var expires_date=new Date(today.getTime()+expires);document.cookie=name+"="+escape(value)+(expires?";expires="+expires_date.toGMTString():"")+(path?";path="+path:"")+(domain?";domain="+domain:"")+(secure?";secure":"")},deleteCookie:function(name,path,domain){if(getCookie(name))document.cookie=name+"="+(path?";path="+path:"")+(domain?";domain="+domain:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT"},createElement:function(tagType,attrs){var _attrs=attrs||{};var _tagType=tagType||"script";if(_tagType=="script"){try{var _scriptEl=document.createElement("script");for(atr in _attrs){_scriptEl.setAttribute(atr.toDash(),_attrs[atr])}document.head.appendChild(_scriptEl);return true}catch(exception){return false}}},loadScript:function(url,callback){var _callback=callback||$.noop();if(!url)return false;$.ajax({url:url,dataType:"script",success:_callback,error:function(e){rta.util.log(e)},async:false})},populateHashesQueryStrings:function(){_pageHashes=window.location.href.slice(window.location.href.indexOf("?")+1).split("#");var __qstringsTemp=_pageHashes[0].split("&");for(var iv=0;iv<__qstringsTemp.length;++iv){var __varPair=__qstringsTemp[iv].split("=");_queryStrings[__varPair[0]]=__varPair[1]}rta.util.log("Hashes successfully populated.")},getHash:function(index){var _index=index||1;return _pageHashes[_index]},currency:{digit_sep:function(field_id){var sep=",";var num=$("#"+field_id).val();num=num.toString();var dotpos=num.indexOf(".");var endString="";if(dotpos!=-1){endString=num.substring(dotpos);num=num.substring(0,dotpos)}var num2=num.replace(/,/g,"");x=num2;z="";for(i=x.length-1;i>=0;i--)z+=x.charAt(i);z=z.replace(/(\d{3})/g,"$1"+sep);if(z.slice(-sep.length)==sep)z=z.slice(0,-sep.length);x="";for(i=z.length-1;i>=0;i--)x+=z.charAt(i);x+=endString;$("#"+field_id).val(x)},getNumber:function(value){return val.replace(/,/g,"")}},checkboxes:{toggle:function(selector,checkboxSelector){var _sel=selector||rta.config.defaultSelectors.checkboxWrap,_checkboxSel=checkboxSelector||"input:checkbox";$(_sel).find(_checkboxSel).each(function(ind,elm){if(elm.checked)elm.checked=false;else elm.checked=true})},selectAll:function(selector,checkboxSelector){var _sel=selector||rta.config.defaultSelectors.checkboxWrap,_checkboxSel=checkboxSelector||"input:checkbox";$(_sel).find(_checkboxSel).each(function(ind,elm){elm.checked=true})},deSelectAll:function(selector,checkboxSelector){var _sel=selector||rta.config.defaultSelectors.checkboxWrap,_checkboxSel=checkboxSelector||"input:checkbox";$(_sel).find(_checkboxSel).each(function(ind,elm){elm.checked=false})}},equalPanel:function(resetHeight){var __resetHeight=resetHeight||false;$(".rt-same-height .panel-wp").equalHeight(function(){$(".rt-same-height .js-full-height").each(function(){var __height=$(this).find(".panel-wp").height();if($(this).attr("data-minuse-size"))__height-=parseInt($(this).attr("data-minuse-size"));$(this).find(".panel-body").css("max-height",__height)})},__resetHeight)}}}();rta.internal=function(){return{slides:{open:function(slideId,labelClass,containerClass,registerID,labelPrefixID,containerPrefixID){var _slideLabelID=labelPrefixID||rta.config.defaultSelectors.slideLabelPrefix,_slideContainerID=containerPrefixID||rta.config.defaultSelectors.slideContainerPrefix,_registerID=registerID||"currentSlide",_currentSlideID=rta.registers.get(_registerID);if(!labelClass||!containerClass)return false;else if(_currentSlideID===slideId){if($(_slideLabelID+slideId).parent().hasClass("active"))return false;_currentSlideID=rta.registers.set(_registerID,$(labelClass).find("li").eq(0).find("a").attr("id").slice(_slideLabelID.length-1))}$(containerClass).hide();if(!_currentSlideID)$(labelClass).find("li").eq(0).removeClass("active");else $(_slideLabelID+_currentSlideID).parent().removeClass("active");$(_slideContainerID+slideId).fadeIn(700);$(_slideLabelID+slideId).parent().addClass("active");rta.registers.set(_registerID,slideId);return true}},initChosen:function(){$("select[data-has-chosen],.prow select, .panel-body > select, .fanc-row > select, .fanc-content-body select").not("[data-chosen-opt],[data-chosen-disable], .wpl-chosen-inited").addClass("wpl-chosen-inited").chosen(rta.config.chosen);$("select[data-chosen-opt]").not(".wpl-chosen-inited").each(function(){var _options=opt2JSON($(this).attr("data-chosen-opt"));$(this).addClass("wpl-chosen-inited").chosen($.extend({},rta.config.chosen,_options));if(_options.hasOwnProperty("width"))$(this).next().css({minWidth:_options.width});if($(this).parent().get(0).tagName=="TD"){$(this).parent().css({overflow:"visible"})}});$("td > select").not("[data-chosen-opt], wpl-chosen-inited").each(function(){$(this).parent().css({overflow:"visible"});$(this).addClass("wpl-chosen-inited").chosen(rta.config.chosen)})}}}();rta.runTime=function(){var _functionList={},_isRuned={},_isRunOnce={};return{getAll:function(){return _functionList},get:function(id){if(!id)return false;if(_functionList.hasOwnProperty(id))return _functionList[id]},add:function(func,id,runOnce,delay){var __id=id||_functionList.length;var __runOnce=runOnce||true;var __delay=typeof delay===undefined?-1:delay;if(!func||!$.isFunction(func))return false;if(_functionList.hasOwnProperty(__id))return false;_functionList[__id]=func;_isRunOnce[__id]=__runOnce;_isRuned[__id]=false;if(__delay>=0)this.run(__id,__delay);return true},run:function(id,delay,params){var __delay=typeof delay===undefined?-1:delay;if(!id)return false;if(_functionList.hasOwnProperty(id)){if(_isRunOnce[id]&&_isRuned[id])return;var __runTimeOut=setTimeout(function(){_functionList[id].call(params);_isRuned[id]=true;clearTimeout(__runTimeOut)},__delay)}return true},runAll:function(){if(_functionList.length>0)for(_ifunc in _functionList){_functionList[_ifunc].call();_isRuned[_ifunc]=true}}}}();rta.template=function(){var _templates={},_tag=rta.config.templates.tag,_leftH=rta.config.templates.leftHolder,_rightH=rta.config.templates.rightHolder,_idAttr=rta.config.templates.idAttr;return{bind:function(object,templateName){if(!object)return false;if(!$.isPlainObject(object)||$.isEmptyObject(object)||$.isEmptyObject(_templates))return false;var _temName=templateName.toCamel()||0,_temTemplate;if(!$.isNumeric(_temName))if(!_templates.hasOwnProperty(_temName))return false;_temTemplate=_templates[_temName];for(var _field in object){var _strRep=_leftH+_field+_rightH;_temTemplate=_temTemplate.replaceAll(_strRep,object[_field])}_temTemplate=_temTemplate.replaceAll("data-src","src");rta.util.log("A template data bind.");return _temTemplate},initPage:function(){$.get(_rta_urlJs+rta.config.templates.fileName).done(function(data){$(data).filter(_tag).each(function(){var __id=$(this).attr(_idAttr);if(__id==="undefined"||__id===false)return;__id=__id.toCamel();_templates[__id]=$(this).html();$(this).remove()});rta.util.log("All dynamic templates initilized.");return true})},init:function(){var __self=this;if(rta.config.templates.delayStart){var __timer=setTimeout(function(){__self.initPage();clearTimeout(__timer)},rta.config.templates.delayTime)}else{__self.initPage()}}}}();rta.fwLoader=function(){rta.util.log("Framework completely loaded.");return true};rta.pageElementsStartupTriggers=function(){if(rta.util.getHash())$(rta.config.backend.pageLeftTabs).find("a[href='#"+rta.util.getHash()+"']").trigger(rta.config.backend.pageLeftTabsTrigger);else{var __selectIndex=0;var ignoreItems=[".wpl-listing-discard-btn",".tab-finalize"];for(var i=0;i<ignoreItems.length;++i){if($(rta.config.backend.pageLeftTabs).find(ignoreItems[i]).length)__selectIndex++}$(rta.config.backend.pageLeftTabs).find("li:eq("+__selectIndex+") a").trigger(rta.config.backend.pageLeftTabsTrigger)}rta.config.defaultSize={window:{height:$(window).height(),width:$(window).width()},document:{height:$(document).height(),width:$(document).getDocHeight()},browser:rta.util.getBrowserSize()};$(".js-clear").each(function(){$(this).removeClass("js-clear").after('<div class="clear"></div>')});rta.template.init();$(".rt-same-height .panel-wp").equalHeight(function(){$(".rt-same-height .js-full-height").each(function(){var __height=$(this).find(".panel-wp").height();if($(this).attr("data-minuse-size"))__height-=parseInt($(this).attr("data-minuse-size"));$(this).find(".panel-body").css("max-height",__height)})});$(".side-changes .panel-body,.side-announce .panel-body").mCustomScrollbar({mouseWheel:true,mouseWheelPixels:200,scrollInertia:300,scrollButtons:{},advanced:{updateOnContentResize:true},theme:"dark-thin"});rta.internal.initChosen()};rta.init=function(){rta.util.log("RTA framework started ...");rta.fwLoader();rta.util.populateHashesQueryStrings();rta.pageElementsStartupTriggers()};$(function(){rta.init()});var realtyna={};realtyna.options={};realtyna.options.tabs={tabSystemClass:".wpl-js-tab-system",tabsClass:".wpl-gen-tab-wp",tabContentsClass:".wpl-gen-tab-contents-wp",tabContentClass:".wpl-gen-tab-content",tabActiveClass:"wpl-gen-tab-active",tabParentActiveClass:"wpl-gen-tab-active-parent",activeChildIndex:0};realtyna.tabs=function(){var _tabOptions=realtyna.options.tabs;$(_tabOptions.tabSystemClass).each(function(){var _tabs=$(this).find(_tabOptions.tabsClass).first(),_tabContents=$(this).find(_tabOptions.tabContentsClass).first();_tabs.find("ul > li > a").on("click",function(e){e.preventDefault();if($(this).hasClass(_tabOptions.tabActiveClass))return false;_tabs.find("ul > li > a").removeClass(_tabOptions.tabActiveClass).parent().removeClass(_tabOptions.tabParentActiveClass);_tabContents.find("> div").hide();$(this).addClass(_tabOptions.tabActiveClass).parent().addClass(_tabOptions.tabParentActiveClass);_tabContents.find($(this).attr("href")).fadeIn()});if(_tabs.find("ul > li > ."+_tabOptions.tabActiveClass).length===0)_tabs.find("ul > li > a").eq(_tabOptions.activeChildIndex).trigger("click")})};$(function(){realtyna.tabs();$(".wpl_memberships_container .wpl_memberships").equalHeight();$(".properties_link").click(function(){$(this).toggleClass("open").find("ul").slideToggle()});wplj("[data-realtyna-lightbox]").realtyna("lightbox");function openCurrentMultilingBox(_self,_parent,_next,_before,_params){var _nextHeight=_next.outerHeight(),_nextWidth=_next.outerWidth(),_beforeHeight=_before.outerHeight(),_final=-1*(_nextHeight/2)+15,_parentHeight=_parent.outerHeight(),_parentWidth=_parent.outerWidth();_self.fadeOut(200);_before.fadeOut(200,function(){_parent.attr({"data-wpl-init-h":_parentHeight,"data-wpl-init-w":_parentWidth}).css({height:_parentHeight,width:_parentWidth,position:"absolute","z-index":9999}).animate({height:_nextHeight,width:_nextWidth,top:_final},200,"easeInCirc",function(){_next.fadeIn();if(_params){_next.find("#"+_params.attr("data-wpl-field")).focus()}})})}function closeAllMultilingTextBox(callback){_j(".wpl-multiling-text").removeClass("wpl-multiling-opened");var _openCount=_j(".wpl-multiling-text").find(".wpl-multilang-field-cnt").length;_j(".wpl-multiling-text .wpl-multilang-field-cnt").each(function(){_j(this).fadeOut(100,function(){var _self=_j(this),_parent=_self.parent(),_parentHeight=_parent.attr("data-wpl-init-h"),_parentWidth=_parent.attr("data-wpl-init-w");_parent.removeAttr("data-wpl-init-h data-wpl-init-w");_parent.animate({height:_parentHeight,width:_parentWidth,top:0},200,function(){_parent.css({position:"relative",zIndex:0});_parent.find(".wpl-multiling-flag-cnt,.wpl-multiling-edit-btn").fadeIn();_openCount--;if(_openCount==0&&typeof callback!="undefined"&&_j.isFunction(callback)){callback.call()}})})})}function closeAllMultilingTextAreaBox(callback){_j(".wpl-multiling-textarea").removeClass("wpl-multiling-opened");var _openCount=_j(".wpl-multiling-textarea").find(".wpl-multilang-field-cnt").length;_j(".wpl-multiling-textarea").each(function(){var _slef=_j(this);_j(this).find(".wpl-multiling-flag").removeClass("wpl-multiling-active");_j(this).find(".wpl-lang-cnt").hide(function(){_slef.find(".wpl-multiling-flags-wp").removeClass("wpl-multiling-opened")})})}_j(".wpl-multiling-text").find(".wpl-multiling-edit-btn").on("click.wpl-events",function(ev,params){ev.stopPropagation();var _self=_j(this),_parent=_self.parent(),_next=_j(this).next(".wpl-multilang-field-cnt"),_before=_j(this).prev(".wpl-multiling-flag-cnt"),_params=_j(params)||null;if(_next.is(":visible")==true)return false;if(_j(".wpl-multiling-opened").length>0){closeAllMultilingTextBox(function(){_parent.addClass("wpl-multiling-opened");openCurrentMultilingBox(_self,_parent,_next,_before,_params)})}else{_parent.addClass("wpl-multiling-opened");openCurrentMultilingBox(_self,_parent,_next,_before,_params)}});_j(".wpl-multiling-text").find(".wpl-multiling-flag").on("click.wpl-events",function(ev){ev.preventDefault();ev.stopPropagation();var _parent=_j(this).parents(".wpl-multiling-flags-wp"),_btn=_parent.find(".wpl-multiling-edit-btn");_btn.trigger("click",_j(this))});_j(".wpl-lang-cnt > input").on("mouseup focus",function(){this.select()});_j(".wpl-lang-cnt > input").on("blur",function(){var _self=_j(this),_selfID=_self.attr("id"),_parent=_self.parents(".wpl-multiling-field");if(_self.val()==""){_parent.find(".wpl-multiling-flag").filter("[data-wpl-field="+_selfID+"]").addClass("wpl-multiling-empty")}else{_parent.find(".wpl-multiling-flag").filter("[data-wpl-field="+_selfID+"]").removeClass("wpl-multiling-empty")}});_j(".wpl-lang-cnt > textarea").on("blur",function(){var _self=_j(this),_selfID=_self.attr("id"),_parent=_self.parents(".wpl-multiling-field");if(_self.val()==""){_parent.find(".wpl-multiling-flag").filter("[data-wpl-field-id="+_selfID+"]").addClass("wpl-multiling-empty")}else{_parent.find(".wpl-multiling-flag").filter("[data-wpl-field-id="+_selfID+"]").removeClass("wpl-multiling-empty")}});_j(".wpl-multiling-save-pro").on("click.wpl-events",function(ev){var _self=_j(this),_parent=_self.parents(".wpl-multiling-field"),_selfID=_self.parent().attr("id");if(tinymce.activeEditor.getContent()==""){_parent.find(".wpl-multiling-flag").filter("[data-wpl-field="+_selfID+"]").addClass("wpl-multiling-empty")}else{_parent.find(".wpl-multiling-flag").filter("[data-wpl-field="+_selfID+"]").removeClass("wpl-multiling-empty")}});_j(".wpl-multiling-label.wpl-multiling-text").on("click.wpl-events",function(ev){ev.preventDefault();ev.stopPropagation();var _self=_j(this),_nextBtn=_self.next(".wpl-multiling-field").find(".wpl-multiling-edit-btn");_nextBtn.trigger("click")});_j(".wpl-multiling-textarea").find(".wpl-multiling-flag").on("click.wpl-events",function(ev){ev.preventDefault();ev.stopPropagation();var _self=_j(this),_parentSelf=_self.parent(),_containerParentSelf=_parentSelf.next(),_tabs=_parentSelf.find(".wpl-multiling-flag"),_containers=_containerParentSelf.find(".wpl-lang-cnt");if(_self.hasClass("wpl-multiling-active")){return false}else{_tabs.removeClass("wpl-multiling-active");_containers.hide()}var _container=_j("#"+_self.attr("data-wpl-field")),_parent=_j(this).parents(".wpl-multiling-flags-wp");_self.addClass("wpl-multiling-active");_parent.addClass("wpl-multiling-opened");_container.fadeIn()});_j(document).on("click.wpl-events",function(ev){ev.stopPropagation();if(!_j(ev.target).hasClass("wpl-multilang-field-cnt")&&!(_j(ev.target).parents(".wpl-multilang-field-cnt").length>0)){closeAllMultilingTextBox();closeAllMultilingTextAreaBox()}})});$(document).ajaxComplete(function(){realtyna.tabs();rta.internal.initChosen();$(".wpl_memberships_container .wpl_memberships").equalHeight();wplj("[data-realtyna-lightbox]").realtyna("lightbox")})})(window,document,jQuery);wplj(function(){wplj(".wpl-pwizard-prow-more_details > label").on("click",function(evn){evn.preventDefault();var elementBlock=wplj(this).next();wplj(this).toggleClass("wpl-pwizard-more-details-opened");elementBlock.slideToggle()})});var wplj;var wpl_show_messages_cur_class;var wpl_show_messages_html_element;var hashes=window.location.href.slice(window.location.href.indexOf("?")+1).split("#");wplj(document).ready(function(){wplj.fn.wpl_help=function(){wplj(".wpl_help").hover(function(){wplj(this).children(".wpl_help_description").show()},function(){wplj(this).children(".wpl_help_description").hide()})};wplj(".wpl_help").wpl_help();wpl_fix_no_image_size()});function wpl_fancybox_afterShow_callback(){}function wpl_fix_no_image_size(){var baseImageSize=null;wplj(".wpl_prp_cont .wpl_prp_top_boxes.front .wpl_gallery_container img").css({"max-width":"none","max-height":"none"});wplj(".wpl_prp_cont .wpl_prp_top_boxes.front .wpl_gallery_container img").promise().done(function(){if(!baseImageSize)baseImageSize=[wplj(this).width(),wplj(this).height()];wplj(this).parents(".wpl_prp_top").width(wplj(this).width()).height(wplj(this).height());wplj(this).parents(".wpl_prp_cont").children(".wpl_prp_top_boxes.back").find("a.view_detail").css("line-height",wplj(this).height()+"px")});var no_image_box=wplj(".no_image_box").css({width:baseImageSize[0],height:baseImageSize[1]}).parents(".wpl_prp_top").css({width:baseImageSize[0],height:baseImageSize[1]})}function wpl_ajax_save(table,key,element,id,url){if(!table||!key||!id||!element||!url)return false;value=element.value;if(!value)value="";request_str="wpl_format=c:functions:ajax&wpl_function=ajax_save&table="+table+"&key="+key+"&value="+value+"&id="+id;ajax=wpl_run_ajax_query(url,request_str);return ajax}function wpl_show_messages(message,html_element,msg_class){if(!msg_class)msg_class="wpl_gold_msg";if(!html_element)html_element=".wpl_show_message";if(!message)return;wpl_show_messages_html_element=html_element;wplj(html_element).html(message);wplj(html_element).show();wplj(html_element).addClass(msg_class);if(wpl_show_messages_cur_class&&wpl_show_messages_cur_class!=msg_class)wplj(html_element).removeClass(wpl_show_messages_cur_class);wpl_show_messages_cur_class=msg_class}function wpl_remove_message(html_element){if(!html_element)html_element=wpl_show_messages_html_element;if(!wpl_show_messages_cur_class)return;wplj(html_element).removeClass(wpl_show_messages_cur_class);wplj(html_element).html("");wplj(html_element).hide();wpl_show_messages_cur_class=""}function wpl_run_ajax_query(url,request_str,ajax_loader,data_type,ajax_type){if(!data_type)data_type="JSON";if(!ajax_type)ajax_type="POST";ajax_result=wplj.ajax({type:ajax_type,dataType:data_type,url:url,data:request_str,success:function(data){},error:function(jqXHR,textStatus,errorThrown){if(ajax_loader)wplj(ajax_loader).html("")}});return ajax_result}function wpl_update_qs(key,value,url){if(!url)url=window.location.href;var re=new RegExp("([?|&|/]|^)"+key+"=.*?(&|#|$)(.*)","gi");if(re.test(url)){if(value)return url.replace(re,"$1"+key+"="+value+"$2$3");else return url.replace(re,"$1$3").replace(/(&|\?)$/,"")}else{if(value){var separator=url.indexOf("?")!==-1?"&":"?";if(url.indexOf("?")===-1&&url.indexOf("&")!==-1)separator="&";var hash=url.split("#");url=hash[0]+separator+key+"="+value;if(hash[1])url+="#"+hash[1];return url}else return url}}function wpl_thousand_sep(field_id){var sep=",";var num=wplj("#"+field_id).val();num=num.toString();var dotpos=num.indexOf(".");var endString="";if(dotpos!=-1){endString=num.substring(dotpos);num=num.substring(0,dotpos)}var num2=num.replace(/,/g,"");x=num2;z="";for(i=x.length-1;i>=0;i--)z+=x.charAt(i);z=z.replace(/(\d{3})/g,"$1"+sep);if(z.slice(-sep.length)==sep)z=z.slice(0,-sep.length);x="";for(i=z.length-1;i>=0;i--)x+=z.charAt(i);x+=endString;wplj("#"+field_id).val(x)}function wpl_de_thousand_sep(val){return val.replace(/,/g,"")}function wpl_alert(string){alert(string)}function wpl_ucfirst(string){return string.charAt(0).toUpperCase()+string.slice(1)}function wpl_change_field_language(field_id,lang){wplj("#wpl_langs_tabs"+field_id+" li").removeClass("wpl-active-lang");wplj("#wpl_langs_tabs"+field_id+" li#wpl_langs_tab_"+field_id+"_"+lang).addClass("wpl-active-lang");wplj("#wpl_langs_cnts"+field_id+" div.wpl-lang-cnt").css("display","none");wplj("#wpl_langs_cnts"+field_id+" div#wpl_langs_cnt_"+field_id+"_"+lang).css("display","")}function wpl_qs_apply(source_qs,apply_qs){if(apply_qs.substring(0,1)=="?")apply_qs=apply_qs.substring(1);var key_value_vars=apply_qs.split("&");for(var i in key_value_vars){var key_value_var=key_value_vars[i].split("=");source_qs=wpl_update_qs(key_value_var[0],key_value_var[1],source_qs)}return source_qs}function wpl_wizard_more_details_toggle(id){wplj("#wpl_more_details"+id).toggle()}